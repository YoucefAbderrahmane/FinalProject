/*
 * MyNSGA.cpp
 *
 *  Created on: 12 juil. 2016
 *      Author: root
 */

#include "MyNSGA.h"

MyNSGA::MyNSGA() {
	// TODO Auto-generated constructor stub

}

MyNSGA::~MyNSGA() {
	// TODO Auto-generated destructor stub
}


chromosome MyNSGA::tournamentSelection(int individu1, int individu2, population p)
{
	chromosome x;
	return x;
}

void MyNSGA::crossover()
{}

void MyNSGA::mutation()
{}

void MyNSGA::nsga2(population *p)
{
	int NP = p->get_size();
	std::vector<int> v1(NP), v2(NP);
	chromosome parent1, parent2, enfant1, enfant2;
	for(int i=0;i < NP; i++)
	{
		v1[i] = i;
		v2[i] = i;
	}
	for(int g =0; g< this->nb_gen; g++)
	{
		p->update_pareto_information(); // update fronts and ranks
		//population  cr = p->getIndividuals(); //Initialization de R
		std::random_shuffle(v1.begin(),v1.end()); //shuffle the vectors to pick the parents randomly
		std::random_shuffle(v2.begin(),v2.end());
		//unsigned seed = std::
		for(int i =0; i < NP; i+=4)
		{
			parent1 = tournamentSelection(v1[i],v1[i+1],*p);
			parent2 = tournamentSelection(v1[i+2],v1[i+3],*p);
			crossover();
			mutation();
			//maj des fitness contrainte et dom
			/*cr.push_back(enfant1);
			cr.push_back(enfant2);

			parent1 = tournamentSelection(v2[i],v2[i+1],*p);
			parent2 = tournamentSelection(v2[i+2],v2[i+3],*p);
			crossover();
			mutation();
			p->update_dom(enfant1);
			//maj des fitness contrainte et dom
			cr.push_back(enfant1);
			cr.push_back(enfant2);*/
		}
		//trier et choisir les meilleurs -> pareto information + tri + s√©lectionnner les NP premier

	}
}
